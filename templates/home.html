{% extends "base.html" %}
{% block title %}الرئيسية{% endblock %}

{% block content %}

<!-- Hero: بانر رئيسي -->
<section class="hero" style="background:#f7faf8">
  <div class="container hero-inner">
    <div>
      <h1>وجهة السعودية</h1>
      <p>اكتشف المملكة مع باقات سياحية ومرشدين محليين بخبرات عالية</p>
      <div class="actions">
        <a href="{{ url_for('book') }}" class="btn btn-primary">احجز الآن</a>
        <a href="{{ url_for('trips') }}" class="btn btn-ghost">تصفّح الرحلات</a>
      </div>
    </div>
    <div>
      <!-- صورة البانر: ضع banner.PNG داخل static/images -->
      <img class="hero-illustration"
           src="{{ url_for('static', filename='images/banner.PNG') }}"
           alt="وجهة السعودية">
    </div>
  </div>
</section>

<!-- إحصائيات -->
<section class="section stats">
  <div class="container grid grid-3">
    <div class="stat-card center">
      <h3>{{ stats.booked_count }}</h3>
      <p>رحلات محجوزة</p>
    </div>
    <div class="stat-card center">
      <h3>{{ stats.packages_count }}</h3>
      <p>باقات متاحة</p>
    </div>
    <div class="stat-card center">
      <h3>{{ stats.guides_count }}</h3>
      <p>مرشدون</p>
    </div>
  </div>
</section>

<!-- سلايدر المرشدين -->
<section class="section" id="guides">
  <div class="container">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
      <h2 class="mt-0 mb-0">مرشدونا</h2>
      <div class="slider-controls">
        <button class="btn btn-ghost slider-prev" data-target="#guidesSlider" aria-label="سابق">‹</button>
        <button class="btn btn-ghost slider-next" data-target="#guidesSlider" aria-label="لاحق">›</button>
      </div>
    </div>

    <!-- حاوية السلايدر -->
    <div id="guidesSlider" class="slider">
      {% for g in guides or [] %}
      <div class="slide">
        <div class="card" style="display:flex;gap:14px;align-items:center;padding:10px;">
          <img src="{{ url_for('static', filename=g.photo) }}" alt="{{ g.name }}"
               style="width:84px;height:84px;border-radius:14px;object-fit:cover;">
          <div class="card-body">
            <h3 class="card-title mb-2">{{ g.name }}</h3>
            <p class="card-sub mb-2">{{ g.city }}</p>
            <p class="mb-0">خبرة {{ g.years }} سنوات</p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- باقات مختارة -->
<section class="section">
  <div class="container">
    <h2 class="mt-0">باقات مختارة</h2>
    <div class="grid grid-3">
      {% for t in trips %}
      <article class="card">
        <img src="{{ url_for('static', filename=t.image) }}" alt="{{ t.name }}">
        <div class="card-body">
          <h3 class="card-title">{{ t.name }}</h3>
          <p class="card-sub">{{ t.city }} • {{ t.days }} يوم</p>
          <p class="mb-2"><strong>{{ t.price }}</strong> {{ currency }} / اليوم</p>
          <p class="mb-3">{{ t.summary }}</p>
          <div class="card-actions">
            <a class="btn btn-ghost" href="{{ url_for('trip_details', trip_id=t.id) }}">التفاصيل</a>
            <a class="btn btn-primary" href="{{ url_for('book', trip_id=t.id) }}">احجز الآن</a>
          </div>
        </div>
      </article>
      {% endfor %}
    </div>
  </div>
</section>

{% endblock %}