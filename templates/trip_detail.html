{% extends "base.html" %}
{% block title %}{{ trip.title }} — وجهة السعودية{% endblock %}

{% block content %}
<section class="container">

  <!-- مسار تنقّل -->
  <nav class="breadcrumbs" style="display:flex;gap:6px;align-items:center;margin:8px 0 12px;">
    <a href="{{ url_for('home') }}">الرئيسية</a>
    <span>›</span>
    <a href="{{ url_for('trips') }}">الرحلات</a>
    <span>›</span>
    <span class="muted">{{ trip.title }}</span>
  </nav>

  <!-- عنوان الرحلة -->
  <header class="page-head" style="margin:6px 0 12px;">
    <h1 class="page-title" style="margin:0 0 4px;">{{ trip.title }}</h1>
    <p class="muted" style="margin:0;">المدينة: {{ trip.city }}</p>
  </header>

  <!-- معرض الصور -->
  {% set imgs = trip.images | default([]) %}
  {% if imgs and imgs|length > 0 %}
  <div class="cards" style="margin-top:10px;">
    {% for img in imgs %}
    <article class="card">
      <img class="card__img"
           src="{{ url_for('static', filename=img) }}"
           alt="صورة من {{ trip.title }}"
           loading="lazy">
    </article>
    {% endfor %}
  </div>
  {% else %}
  <div class="card" style="padding:16px; margin-top:10px;">
    <p class="muted" style="margin:0;">لا تتوفر صور لهذه الرحلة حاليًا.</p>
  </div>
  {% endif %}

  <!-- تفاصيل مختصرة + أزرار -->
  <div class="card" style="padding:16px; margin-top:16px;">
    <p style="margin:0 0 8px;">{{ trip.summary }}</p>
    <p class="muted" style="margin:0 0 12px;">
      السعر لليوم: <strong>{{ trip.price_per_day }} ر.س</strong>
      — الأيام المقترحة: <strong>{{ trip.days_default }}</strong>
    </p>
    <div class="card__actions" style="display:flex;gap:10px;flex-wrap:wrap;">
      <a class="btn btn--ghost" href="{{ url_for('trips') }}">عودة للرحلات</a>
      <a class="btn btn--primary" href="{{ url_for('booking', trip=trip.slug) }}">احجز هذه الرحلة</a>
    </div>
  </div>

</section>
{% endblock %}