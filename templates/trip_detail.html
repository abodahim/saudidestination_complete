{% extends "base.html" %}
{% block title %}{{ trip.title }} — وجهة السعودية{% endblock %}

{% block content %}
<section class="container">

  <!-- مسار تنقّل -->
  <nav class="breadcrumbs" style="display:flex;gap:6px;align-items:center;margin:8px 0 12px;">
    <a href="{{ url_for('home') }}">الرئيسية</a>
    <span aria-hidden="true">›</span>
    <a href="{{ url_for('trips') }}">الرحلات</a>
    <span aria-hidden="true">›</span>
    <span class="muted">{{ trip.title }}</span>
  </nav>

  <!-- عنوان الرحلة -->
  <header class="page-head" style="margin:6px 0 12px;">
    <h1 class="page-title" style="margin:0 0 4px;">{{ trip.title }}</h1>
    <p class="muted" style="margin:0;">المدينة: {{ trip.city }}</p>
  </header>

  <!-- معرض الصور -->
  {% if trip.images and trip.images|length > 0 %}
  <div class="cards" style="margin-top:10px;">
    {% for img in trip.images %}
    <article class="card">
      <img
        class="card__img"
        src="{{ url_for('static', filename=img) }}"
        alt="{{ trip.title }} — صورة {{ loop.index }}"
        loading="lazy" decoding="async" width="960" height="640"
        onerror="this.alt=''; this.style.opacity=0.5;">
    </article>
    {% endfor %}
  </div>
  {% endif %}

  <!-- نبذة وسعر وأزرار -->
  <div class="card" style="padding:16px; margin-top:16px;">
    {% if trip.summary %}
      <p style="margin:0 0 8px;">{{ trip.summary }}</p>
    {% endif %}

    <p class="muted" style="margin:0 0 12px;">
      السعر لليوم: <strong>{{ trip.price_per_day }} ر.س</strong>
      {% if trip.days_default %} — الأيام المقترحة: <strong>{{ trip.days_default }}</strong>{% endif %}
    </p>

    <div class="card__actions" style="display:flex;gap:10px;flex-wrap:wrap;">
      <a class="btn btn--ghost" href="{{ url_for('trips') }}">عودة للرحلات</a>
      <a class="btn btn--primary" href="{{ url_for('booking', trip=trip.slug) }}">احجز هذه الرحلة</a>
    </div>
  </div>

</section>
{% endblock %}