<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>نموذج الحجز - وجهة السعودية</title>

  <!-- إعداد لعرض

بالطبع، إليك كود `booking` مشروحًا **سطرًا بسطر باللغة العربية** داخل ملف `main.py` لتفهم وظيفة كل جزء بوضوح:

---

### ✅ كود `booking` داخل `main.py` مع الشرح:

```python
@app.route('/booking', methods=['GET', 'POST'])  # هذا المسار يعالج طلبات GET (عرض النموذج) و POST (إرسال النموذج)
def booking():
    if request.method == 'POST':  # إذا كان المستخدم قد أرسل النموذج
        # ===== استلام البيانات من النموذج =====
        name = request.form['name']         # الاسم المُدخل من المستخدم
        email = request.form['email']       # البريد الإلكتروني المُدخل
        trip = request.form['trip']         # اسم الرحلة التي تم اختيارها

        # ===== ربط بقاعدة البيانات bookings.db =====
        conn = sqlite3.connect('bookings.db')  # فتح اتصال بقاعدة البيانات
        cursor = conn.cursor()                # إنشاء مؤشر للتعامل مع قاعدة البيانات

        # ===== تنفيذ أمر إدخال بيانات الحجز في جدول bookings =====
        cursor.execute('INSERT INTO bookings (name, email, trip) VALUES (?, ?, ?)', (name, email, trip))

        conn.commit()  # حفظ التغييرات في قاعدة البيانات
        conn.close()   # إغلاق الاتصال بقاعدة البيانات

        # ===== عرض رسالة تأكيد =====
        return f"<h3>تم الحجز بنجاح! شكراً {name}</h3><a href='/'>العودة للرئيسية</a>"

    # إذا كانت طريقة الطلب GET، نعرض نموذج الحجز
    return render_template('booking.html')