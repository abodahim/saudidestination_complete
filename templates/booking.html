{% extends "base.html" %}
{% block title %}نموذج الحجز{% endblock %}
{% block content %}

<h1 class="page-title">نموذج الحجز</h1>

<form class="form" method="post" action="{{ url_for('booking') }}">
  <div class="grid-2">
    <label>الاسم الكامل
      <input type="text" name="name" required>
    </label>
    <label>البريد الإلكتروني
      <input type="email" name="email" required>
    </label>
  </div>

  <label>رقم الجوال
    <input type="tel" name="phone" required>
  </label>

  <label>اختر الرحلة
    <select name="trip" required>
      {% for t in trips %}
        <option value="{{ t.slug }}" {% if chosen and chosen.slug==t.slug %}selected{% endif %}>
          {{ t.title }} — {{ t.city }}
        </option>
      {% endfor %}
    </select>
  </label>

  <div class="grid-2">
    <label>السعر لليوم (يُملأ تلقائيًا)
      <input type="number" value="{{ chosen.price_per_day if chosen else '' }}" readonly>
    </label>
    <label>عدد الأيام (1 إلى 7)
      <input type="number" name="days" value="{{ chosen.days_default if chosen else 1 }}" min="1" max="7" required>
    </label>
  </div>

  <p class="muted">الإجمالي يُؤكّد في صفحة الدفع.</p>

  <label class="checkbox">
    <input type="checkbox" name="agree" required>
    <span>أوافق على <a href="{{ url_for('cancellation') }}">سياسة الإلغاء</a></span>
  </label>

  <button class="btn btn--primary" type="submit">إرسال الحجز</button>
</form>

{% endblock %}
