{% extends "base.html" %}
{% block title %}نموذج الحجز{% endblock %}
{% block content %}
<h1 class="page-title">نموذج الحجز</h1>

<form method="post" class="form card--panel">
  <div class="grid-2">
    <label>الاسم الكامل
      <input type="text" name="name" required>
    </label>
    <label>البريد الإلكتروني
      <input type="email" name="email" required>
    </label>
  </div>

  <label>رقم الجوال
    <input type="tel" name="phone" required placeholder="05xxxxxxxx" pattern="^05\\d{8}$">
  </label>

  <div class="grid-2">
    <label>اختر الرحلة
      <select name="trip" id="tripSelect" required>
        {% for t in trips %}
          <option value="{{ t.slug }}" data-price="{{ t.price_per_day }}"
            {% if chosen and chosen.slug==t.slug %}selected{% endif %}>
            {{ t.title }} — {{ t.price_per_day }} ر.س / اليوم
          </option>
        {% endfor %}
      </select>
    </label>

    <label>عدد الأيام (1–7)
      <input type="number" name="days" id="daysInput"
             min="{{ min_days }}" max="{{ max_days }}"
             value="{{ chosen.days_default if chosen else 1 }}" required>
    </label>
  </div>

  <div class="hint">الإجمالي المتوقع: <strong id="totalVal">0</strong> ر.س</div>

  <label class="checkbox">
    <input type="checkbox" name="agree" required>
    <span>أوافق على <a href="{{ url_for('cancellation') }}" target="_blank">سياسة الإلغاء</a></span>
  </label>

  <button class="btn btn--primary" type="submit">إرسال الحجز</button>
</form>
{% endblock %}
